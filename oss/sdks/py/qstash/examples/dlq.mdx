---
title: DLQ
---

<Info>
  You can run the async code by importing `AsyncQStash` from `upstash_qstash`
  and awaiting the methods.
</Info>

#### Get all messages with pagination using cursor

Since the DLQ can have a large number of messages, they are paginated.
You can go through the results using the `cursor`.

```python
from upstash_qstash import QStash

qstash = QStash("<QSTASH-TOKEN>")

all_messages = []
cursor = None
while True:
    res = qstash.dlq.list(cursor=cursor)
    all_messages.extend(res.messages)
    cursor = res.cursor
    if cursor is None:
        break
```

#### Get a message from the DLQ

```python
from upstash_qstash import QStash

qstash = QStash("<QSTASH-TOKEN>")
msg = qstash.dlq.get("<dlq-id>")
```

#### Delete a message from the DLQ

```python
from upstash_qstash import QStash

qstash = QStash("<QSTASH-TOKEN>")
qstash.dlq.delete("<dlq-id>")
```
